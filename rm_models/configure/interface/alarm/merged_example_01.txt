# Using merged state

# Before state (live):
# --------------------
# Command:
#   info configure interface alarm
DS-LIN-TEST-01:automationuser># info configure interface alarm 
configure interface
#-------------------------------------------------------------------------------
echo "interface"
#-------------------------------------------------------------------------------
alarm pon
  default-severity indeterminate
exit
alarm epon
  default-severity indeterminate
exit
alarm eont
  default-severity indeterminate
exit
alarm ont
  default-severity indeterminate
exit
#-------------------------------------------------------------------------------
DS-LIN-TEST-01:automationuser>#

- name: Merge interface alarm configuration (set PON default severity to minor)
  isam_interface_alarm:
    state: merged
    config:
      - name: "pon"
        default_severity: "minor"

# After state (live):
# -------------------
# Command:
#   info configure interface alarm
DS-LIN-TEST-01:automationuser># info configure interface alarm 
configure interface
#-------------------------------------------------------------------------------
echo "interface"
#-------------------------------------------------------------------------------
alarm pon
  default-severity minor
exit
alarm epon
  default-severity indeterminate
exit
alarm eont
  default-severity indeterminate
exit
alarm ont
  default-severity indeterminate
exit
#-------------------------------------------------------------------------------
DS-LIN-TEST-01:automationuser>#
